<main>
  <div class="mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10">

    <div
      class="mt-4 grid grid-cols-12 gap-4 md:mt-6 md:gap-6 2xl:mt-7.5 2xl:gap-7.5"
    >
      <!-- ====== Chart One Start -->
      <div
        class="col-span-12 rounded-sm border border-stroke bg-white px-5 pb-5 pt-7.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:col-span-8"
      >
        <div class="container mx-auto p-6">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-black dark:text-white">Revenue
              Report</h2>
            <div
              class="inline-flex items-center rounded-md bg-whiter p-1.5 dark:bg-meta-4"
            >
              <button
                id="day-revenue-btn"
                class="range-revenue-btn active rounded bg-white px-3 py-1 text-xs font-medium text-black shadow-card hover:bg-white dark:bg-boxdark dark:text-white"
                onclick="getRevenue('day')"
              >
                Day
              </button>
              <button
                id="week-revenue-btn"
                class="range-revenue-btn rounded px-3 py-1 text-xs font-medium text-black hover:bg-white dark:text-white"
                onclick="getRevenue('week')"
              >
                Week
              </button>
              <button
                id="month-revenue-btn"
                class="range-revenue-btn rounded px-3 py-1 text-xs font-medium text-black hover:bg-white dark:text-white"
                onclick="getRevenue('month')"
              >
                Month
              </button>
            </div>
          </div>
          <div
            class="grid grid-cols-6 border-t border-stroke px-4 py-4.5 dark:border-strokedark sm:grid-cols-8 md:px-6 2xl:px-7.5"
          >
            <div class="col-span-2 flex items-center">
              <p class="font-medium">Date</p>
            </div>
            <div class="col-span-2 flex items-center sm:flex">
              <p class="font-medium">Total Revenue</p>
            </div>
            <div class="col-span-2 flex items-center">
              <p class="font-medium">Total Orders</p>
            </div>
            <div class="col-span-1 flex items-center">
              <p class="font-medium">Profit</p>
            </div>
          </div>

          <div id="revenue">
            {{#if revenue}}
              {{#each revenue}}
                <div
                  class="grid grid-cols-6 border-t border-stroke px-4 py-4.5 dark:border-strokedark sm:grid-cols-8 md:px-6 2xl:px-7.5"
                >
                  <div class="col-span-2 flex items-center">
                    <p class="text-sm font-medium text-black dark:text-white">
                      {{this.date}}
                    </p>
                  </div>
                  <div class="col-span-2 hidden items-center sm:flex">
                    <p
                      class="text-sm font-medium text-black dark:text-white"
                    >{{this.totalRevenue}}</p>
                  </div>
                  <div class="col-span-1 flex items-center">
                    <p
                      class="text-sm font-medium text-black dark:text-white"
                    >${{this.totalOrders}}</p>
                  </div>
                  <div class="col-span-1 flex items-center">
                    <p
                      class="text-sm font-medium text-black dark:text-white"
                    >${{this.profit}}</p>
                  </div>
                </div>
              {{/each}}
            {{else}}
              <div
                class="grid grid-cols-6 border-t border-stroke px-4 py-4.5 dark:border-strokedark sm:grid-cols-8 md:px-6 2xl:px-7.5"
              >
                <div
                  class="col-span-12 flex flex-row items-center justify-center"
                >
                  <p class="text-sm font-medium text-black dark:text-white">
                    No revenue data found
                  </p>
                </div>
              </div>
            {{/if}}
          </div>
        </div>

      </div>

      <!-- ====== Chart One End -->

      <!-- ====== Top product revenue Start -->
      <div class="col-span-12 xl:col-span-8">
        <div
          class="rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"
        >
          <div class="justify-between gap-4 sm:flex">
            <div class="px-4 py-6 md:px-6 xl:px-7.5">
              <h4 class="text-xl font-bold text-black dark:text-white">Top
                Products</h4>
            </div>

            {{! <!-- ====== Day picker Start -->
            <div
              class="col-span-12 xl:col-span-5 flex justify-end gap-4 px-4 py-6 md:px-6 xl:px-7.5"
            >
              <form
                id="top-products-form"              
              >
                <label for="startDate">Start Date:</label>
                <input type="date" id="startDate" name="startDate" required />

                <label for="endDate">End Date:</label>
                <input type="date" id="endDate" name="endDate" required />

                <button
                  type="submit"
                  class="inline-flex items-center justify-center px-1 py-2 text-center font-medium text-sm hover:bg-opacity-90 lg:px-6 xl:px-8"
                ><i class="ri-eye-line"></i></button>
              </form>
            </div>
            <!-- ====== Day picker End --> }}

            <div class="flex w-full max-w-45 justify-end p-6">
              <div
                class="inline-flex items-center rounded-md bg-whiter p-1.5 dark:bg-meta-4"
              >
                <button
                  id="day-btn"
                  class="range-btn rounded bg-white px-3 py-1 text-xs font-medium text-black shadow-card hover:bg-white hover:shadow-card dark:bg-boxdark dark:text-white dark:hover:bg-boxdark"
                  onclick="getTopProducts('day')"
                >
                  Day
                </button>
                <button
                  id="week-btn"
                  class="range-btn rounded px-3 py-1 text-xs font-medium text-black hover:bg-white hover:shadow-card dark:text-white dark:hover:bg-boxdark"
                  onclick="getTopProducts('week')"
                >
                  Week
                </button>
                <button
                  id="month-btn"
                  class="range-btn rounded px-3 py-1 text-xs font-medium text-black hover:bg-white hover:shadow-card dark:text-white dark:hover:bg-boxdark"
                  onclick="getTopProducts('month')"
                >
                  Month
                </button>
              </div>
            </div>

          </div>

          <div
            class="grid grid-cols-6 border-t border-stroke px-4 py-4.5 dark:border-strokedark sm:grid-cols-8 md:px-6 2xl:px-7.5"
          >
            <div class="col-span-3 flex items-center">
              <p class="font-medium">Product Name</p>
            </div>
            <div class="col-span-2 hidden items-center sm:flex">
              <p class="font-medium">Category</p>
            </div>
            <div class="col-span-1 flex items-center">
              <p class="font-medium">Price</p>
            </div>
            <div class="col-span-1 flex items-center">
              <p class="font-medium">Sold</p>
            </div>
            <div class="col-span-1 flex items-center">
              <p class="font-medium">Profit</p>
            </div>
          </div>

          <div id="top-products">
            {{#if topProducts}}
              {{#each topProducts}}
                <div
                  class="grid grid-cols-6 border-t border-stroke px-4 py-4.5 dark:border-strokedark sm:grid-cols-8 md:px-6 2xl:px-7.5"
                >
                  <div class="col-span-3 flex items-center">
                    <div
                      class="flex flex-col gap-4 sm:flex-row sm:items-center"
                    >
                      <div class="h-12.5 w-15 rounded-md">
                        <img src="{{this.image}}" alt="{{this.name}}" />
                      </div>
                      <p class="text-sm font-medium text-black dark:text-white">
                        {{this.name}}
                      </p>
                    </div>
                  </div>
                  <div class="col-span-2 hidden items-center sm:flex">
                    <p
                      class="text-sm font-medium text-black dark:text-white"
                    >{{this.category}}</p>
                  </div>
                  <div class="col-span-1 flex items-center">
                    <p
                      class="text-sm font-medium text-black dark:text-white"
                    >${{this.price}}</p>
                  </div>
                  <div class="col-span-1 flex items-center">
                    <p
                      class="text-sm font-medium text-black dark:text-white"
                    >{{this.sold}}</p>
                  </div>
                  <div class="col-span-1 flex items-center">
                    <p
                      class="text-sm font-medium text-meta-3"
                    >${{this.profit}}</p>
                  </div>
                </div>
              {{/each}}
            {{else}}
              <div
                class="grid grid-cols-6 border-t border-stroke px-4 py-4.5 dark:border-strokedark sm:grid-cols-8 md:px-6 2xl:px-7.5"
              >
                <div
                  class="col-span-12 flex flex-row items-center justify-center"
                >
                  <p class="text-sm font-medium text-black dark:text-white">
                    No products found
                  </p>
                </div>
              </div>
            {{/if}}
          </div>
        </div>

      </div>
      <!-- ====== Top product revenue End -->
    </div>
  </div>
</main>

<script src="/javascripts/callApi/callReportApi.js"></script>